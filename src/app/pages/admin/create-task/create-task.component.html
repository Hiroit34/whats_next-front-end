<div class="card">
  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <div class="p-field">
      <label for="title">Title</label>
      <input id="title" type="text" pInputText formControlName="title" />
      <div *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched">
        <small class="p-error" *ngIf="taskForm.get('title')?.hasError('required')">Title is required.</small>
        <small class="p-error" *ngIf="taskForm.get('title')?.hasError('maxLength')">Title cannot exceed 50 characters.</small>
      </div>
    </div>

    <div class="p-field">
      <label for="description">Description</label>
      <textarea id="description" pInputTextarea formControlName="description"></textarea>
      <div *ngIf="taskForm.get('description')?.invalid && taskForm.get('description')?.touched">
        <small class="p-error" *ngIf="taskForm.get('description')?.hasError('maxLength')">Description cannot exceed 50 characters.</small>
      </div>
    </div>

    <div class="p-field">
      <label for="category">Category</label>
      <p-dropdown id="category" [options]="category" optionLabel="categoryType" formControlName="category" placeholder="Select a Category"></p-dropdown>
    </div>

    <div class="p-field">
      <label for="userIds">Assign to:</label>
      <p-multiSelect id="userIds" [options]="users" optionLabel="username" formControlName="userIds"></p-multiSelect>
    </div>

    <div class="p-field">
      <button pButton type="submit" label="Create Task" [disabled]="taskForm.invalid"></button>
    </div>
  </form>
</div>

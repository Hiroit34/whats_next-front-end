<div class="h-full m-auto mt-8" [style]="{ width: '50%' }">
  <h1>Lista Progetti</h1>

  <div class="mb-4">
    <span class="p-input-icon-left">
      <i class="pi pi-search"></i>
      <input type="text" pInputText placeholder="Cerca per progetto" [(ngModel)]="searchTerm" (ngModelChange)="filterCategories()" />
    </span>
  </div>

  <p-accordion *ngFor="let cat of paginatedCategories" class="w-full mt-8" expandIcon="pi pi-plus" collapseIcon="pi pi-minus">
    <p-accordionTab>
      <ng-template pTemplate="header">
        <span class="flex align-items-center gap-2 w-full">
          <span class="font-bold white-space-nowrap">
            {{cat.categoryType}}
          </span>
          <i class="pi pi-calendar mr-4 p-text-secondary" pBadge style="font-size: 1.25rem" [value]="cat.task ? cat.task.length : 0" severity="danger"></i>
        </span>
      </ng-template>
      <p class="m-0">
        {{cat.description}}
      </p>
    </p-accordionTab>
  </p-accordion>

  <p-paginator [rows]="rows" [totalRecords]="filteredCategories.length" [rowsPerPageOptions]="[5, 10, 20]" (onPageChange)="onPageChange($event)"></p-paginator>
</div>
